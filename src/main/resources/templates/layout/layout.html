<!DOCTYPE html>
<!-- A�adimos el nameSpace de seguridad de Thymeleaf -->
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:fragment="head">
<meta charset="UTF-8" />
<title th:text="'Café & Copas - Memphis'"></title>
<!-- <link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We"
	crossorigin="anonymous" />
 -->

<link rel="stylesheet" th:href="@{/css/jquery-ui.min.css}">
<link rel="stylesheet" th:href="@{/css/jquery.tipsy.css}">
<link rel="stylesheet" th:href="@{/css/jquery-ui.min.css}">
<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" >
<!-- <link rel="stylesheet" href="https://getbootstrap.com/docs/5.2/assets/css/docs.css" > -->

<!-- ### Fichero Css Externo ### -->
<link rel="stylesheet" th:href="@{/css/style.css}">

<!-- ### Fichero nieve.css ### -->
<!-- <link rel="stylesheet" th:href="@{/css/nieve.css}"> -->
<!-- ######################### -->

<!-- ### Adaptable a Móviles. ### -->
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


</head>

<body>

	<header th:fragment="header">
		<div style="background-color: rgba(0, 0, 0, 0.05);">
			<nav class="navbar navbar-expand-lg navbar-light bg-ligth">

				<div class="container-fluid">
					<a class="navbar-brand" href="#">Memphis Café</a>
					<button class="navbar-toggler" type="button"
						data-bs-toggle="collapse" data-bs-target="#navbarNav"
						aria-controls="navbarNav" aria-expanded="false"
						aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse" id="navbarNav">
						<ul class="navbar-nav">
							<li class="nav-item"><a
								class="nav-link border border-success border-1 rounded-pill"
								id="EjecucionFicheroDiario" th:href="@{/inicio}">Pruebas</a></li>
						</ul>
					</div>

					<!-- Mensajes que se muestran (Guardar, Borrar, etct ...) -->
					<div class="alert alert-success alert-dismissible"
						th:if="${success != null}" th:text="${success}">
						<button type="button" class="close" data-dismiss="alert">&times;</button>
					</div>

					<!-- 1.- Implementación del Login / Logout. 
	   				 2.- Si está autenticado no mostrara el login -> sec:authorize="!isAuthenticatd()"-->
					<!-- 
				<ul class="navbar-nav navbar-right">
					<li sec:authorize="!isAuthenticated()">
					<a class="btn btn-outline-primary" th:href="@{/login}">Sign In</a></li>
		-->
					<!-- 2.- Cuando el usuario tenga sesíon mostramos el nombre y el boton del logout. -->
					<!-- 					
					<li sec:authorize="isAuthenticated()" class="dropdown show"><a
						class="btn btn-outline-primary dropdown-toggle" href="#"
						role="button" id="dropdownMenuLink" data-bs-toggle="dropdown"
						aria-expanded="false"> <span sec:authentication="name"></span></a>
		 -->
					<!-- 3.- Implementamos el formulario del logout -->
					<!-- 						
						<div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
							<form id="logoutForm" th:action="@{/logout}" method="post">
		 -->
					<!-- 4.- Podemos omitir el agregar el _csrf para agregar el toquen ya que SpringSecurti lo agrega siempre.
					 5.- para que funciones el logout debemos de añadir la librería pooper. Debemos descargarla desde boostrap
					 https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.min.js
					 La pegamos en un file popper.min.js y la dejamos en la carpeta /static/js/popper.min.js -->
					<!-- 
								<button class="dropdown-item"
									onclick="document.getElementById('logoutForm').submit();"
									type="submit">Sing Out</button>
								<input type="hidden" th:name="${_csrf.parameterName}"
									th:value="${_csrf.token}" />
							</form>
						</div>
					</li>
				</ul>
	-->

				</div>
			</nav>
		</div>
	</header>

	<div class="container"></div>


	<footer id="piePagina" th:fragment="footer" class="container text-center text-lg-start text-muted">
	<!-- bg-light  -->
		<hr />
		
		<div style="background-color: rgba(0, 0, 0, 0.05); text-align: center;">
			<!--  <img th:src="@{/images/logoMemphis.png}" alt="Getronics logo" style="width: 135px" />  -->
			<b> © 2022
				Copyright: <a href="https://es-la.facebook.com/memphisescanuela" style="color:#43b39b;"> Memphis Café</a>
			</b>
			<br>
			<b>	C. Nueva, 1, 23657 Escañuela, Jaén </b>
			<br>
			<b> Telfn: <a href="tel:+34650080057" style="color:#43b39b;">650080057</a></b>
		</div>

		

		<script th:src="@{/js/jquery-3.4.1.min.js}"></script>
		<!-- <script th:src="@{/js/popper.min.js}"></script> -->
		<!-- Comenta está versión ya que en los navegaodres de IOS no funciona el PopOver al desplegarlo. Lo cambio por bootstrap.bundle.min.js
		<script th:src="@{/js/bootstrap.min.js}"></script>  -->
		
		
		<script th:src="@{/js/bootstrap.bundle.min.js}"></script>
		
		<!-- Liberería de Jquery.js -->
		<script th:src="@{/js/jquery-ui.min.js}"></script>
		<script th:src="@{/js/jquery.tipsy.js}"></script>
		<script th:src="@{/js/jquery.tipsy.min.js}"></script>

		 
		
		<!-- Script encargado de abrir los PopOver -->
		<!-- ##################################### -->
		<script type="text/javascript">
		
		// Activa los tooltips
		$(function() {
			$('[data-toggle="tooltip"]').tooltip()
		})

		
		// Abre el popover al pulsar sobre el.
			$(function() {
				$('[data-bs-toggle="popover"]').popover();
			});

		// Se encarga de cerrar el popover si se pulsa fuera de el.
			$('html').on('click', function(e) {
				if (typeof $(e.target).data('data-bs-content') == 'undefined') {
					$('[data-bs-content]').popover('hide');
				}
			});
		</script>
		
	</footer>

</body>
</html>